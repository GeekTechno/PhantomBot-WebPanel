var player,r=false,videos=[],i=-1,connection=new WebSocket(getProtocol()+botAddress);function onYouTubeIframeAPIReady(){player=new YT.Player("player",{height:"800",width:"450",videoId:"",playerVars:{iv_load_policy:3,showinfo:0,showsearch:0,modestbranding:1,autoplay:0,controls:2},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(event){event.target.setPlaybackQuality("auto");ready()}function ready(){if(r&&botControl){connection.send("ready")}else{r=true}}function onPlayerStateChange(event){if(botControl){connection.send("state|"+event.data)}if(event.data==YT.PlayerState.BUFFERING){event.target.setPlaybackQuality("auto")}document.getElementById("current-video-title").innerHTML=event.target.getVideoData().title}connection.onopen=function(){ready()};connection.onmessage=function(e){var d=e.data.split("|");switch(d[0]){case"next":i++;if(videos[i]===null)i=0;player.cueVideoById(videos[i],0,"auto");break;case"previous":i--;if(videos[i]===null)i=videos.length-1;player.cueVideoById(videos[i],0,"auto");break;case"play":player.playVideo();break;case"pause":player.pauseVideo();break;case"add":videos.push(d[1]);break;case"reload":location.reload();break;case"cue":player.cueVideoById(d[1],0,"auto");break;case"eval":return window[d[1]];break;default:break}if(botControl){switch(d[0]){case"currentid":connection.send("currentid|"+player.getVideoUrl().match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?^\s]*).*/)[1]);break;case"currentvolume":connection.send("currentvolume|"+player.getVolume());break;case"setvolume":player.setVolume(d[1]);break;default:break}}};function getProtocol(){return window.location.protocol=="http:"?"ws://":"wss://"}
//# sourceMappingURL=music-player.min.js.map