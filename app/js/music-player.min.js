var player,r=false,videos=[],i=-1,connection=new WebSocket(getProtocol()+botAddress);function onYouTubeIframeAPIReady(){player=new YT.Player("player",{height:"800",width:"450",videoId:"",playerVars:{iv_load_policy:3,showinfo:0,showsearch:0,modestbranding:1,autoplay:0,controls:2},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){e.target.setPlaybackQuality("auto");ready()}function ready(){if(r&&botControl){connection.send("ready")}else{r=true}}function onPlayerStateChange(e){if(botControl){connection.send("state|"+e.data)}if(e.data==YT.PlayerState.BUFFERING){e.target.setPlaybackQuality("auto")}document.getElementById("current-video-title").innerHTML=e.target.getVideoData().title}connection.onopen=function(){ready()};connection.onmessage=function(e){var a=e.data.split("|");switch(a[0]){case"next":i++;if(videos[i]===null)i=0;player.cueVideoById(videos[i],0,"auto");break;case"previous":i--;if(videos[i]===null)i=videos.length-1;player.cueVideoById(videos[i],0,"auto");break;case"play":player.playVideo();break;case"pause":player.pauseVideo();break;case"add":videos.push(a[1]);break;case"reload":location.reload();break;case"cue":player.cueVideoById(a[1],0,"auto");break;case"eval":return window[a[1]];break;default:break}if(botControl){switch(a[0]){case"currentid":connection.send("currentid|"+player.getVideoUrl().match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?^\s]*).*/)[1]);break;case"currentvolume":connection.send("currentvolume|"+player.getVolume());break;case"setvolume":player.setVolume(a[1]);break;default:break}}};function getProtocol(){return window.location.protocol=="http:"?"ws://":"wss://"}
//# sourceMappingURL=music-player.min.map